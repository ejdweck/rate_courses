{% extends 'index.html' %}
{% block content %}
<br>
<div class="row">
  <div class="container">
  	<form method="get" action="/search/" role="search">
	    <div class="input-group">
	      <input type="text" class="form-control" placeholder="Search for a course review by course or instructor" name="searchbox">
	      <span class="input-group-btn">
	        <button value="Search" type="text" id="search-submit" class="btn btn-secondary">Search</a>
	      </span>
	    </div>
	    <small id="help" class="form-text text-muted">Confused about ratings or card colors? Check out the <a href="{% url 'about' %}">about page</a> </small>
	</form>
  </div>
</div>
<br>
<div class="container"> 
	<h2>Search Results - Courses</h2>
	<div class="card-deck">
	 {% for course in courses %}
	 	<div class="col-sm-4">
		    <div class="card border-dark mb-3 color{{ course.averageRating|make_list|first }}" id="card_box">
		    	<div class="card-header">{{course.courseDepartment}}: {{course.courseNumber}}</div>
			    <div class="card-body text-dark">
			      <h4 class="card-title"></h4>
			      <p class="card-text">Average Rating: {{course.averageRating}}</p>
			      <p class="card-text">Number of Ratings: {{course.numberOfRatings}}</p>
			    </div>
			    <div class="card-footer">
			      <small class="text-dark"></small>
			    </div>
			</div>
		</div>
	  {% endfor %}
	</div>
</div>
<br>
<div class="container"> 
	<h2>Search Results - Individual Course Reviews</h2>
	<div class="card-deck"> 
	 {% for course in course_reviews %}
	 	<div class="col-sm-4">
		    <div class="card mx-auto border-dark mb-3 color{{course.rating}}" id="card_box">
		    	<div class="card-header">{{course.courseDepartment}}: {{course.courseNumber}}</div>
			    <div class="card-body text-dark">
			        <p class="card-text">Instructor: {{course.instructorId.firstName}} {{course.instructorId.lastName}}</p>
			        <p class="card-text">Review: {{course.review}}</p>
			        <p id="cardRating" class="card-text">Rating: {{course.rating}}</p>
			    </div>
			    <div class="card-footer">
			      <small class="text-dark">Reviewed on {{course.reviewDate}}</small>
			    </div>
			</div>
		</div>
	  {% endfor %}
	</div>
</div>
{% endblock %}
